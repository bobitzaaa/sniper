local function jumpToServer() 
    local sfUrl = "https://games.roblox.com/v1/games/%s/servers/Public?sortOrder=%s&limit=%s&excludeFullGames=true"
    local gameId = 15502339080
    local req = request({ Url = string.format(sfUrl, gameId, "Desc", 50) })
    local body = http:JSONDecode(req.Body)
    local servers = {}

    if body and body.data then
        for _, v in pairs(body.data) do
            if type(v) == "table" and tonumber(v.playing) and tonumber(v.maxPlayers) and v.playing < v.maxPlayers and v.id ~= game.JobId then
                table.insert(servers, v.id)
            end
        end
    end

    if #servers > 0 then
        local serverId = servers[math.random(1, #servers)]
        ts:TeleportToPlaceInstance(gameId, serverId, game:GetService("Players").LocalPlayer)
    end
end

game:GetService("Players").PlayerAdded:Connect(function()
    if #game:GetService("Players"):GetPlayers() < 20 then
        jumpToServer()
    end
end)

game:GetService("Players").PlayerRemoving:Connect(function()
    if #game:GetService("Players"):GetPlayers() < 20 then
        jumpToServer()
    end
end)
